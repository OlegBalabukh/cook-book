{"version":3,"sources":["common/DialogForm.style.js","components/InputForm/InputForm.js","components/NewRecipe/NewRecipe.js","components/Recipe/Recipe.js","components/Version/Version.js","containers/App/actions/getRecipes.action.js","containers/App/constants.js","containers/App/App.js","containers/App/actions/addRecipe.action.js","containers/App/actions/deleteRecipe.action.js","containers/App/actions/setActiveRecipe.action.js","containers/App/actions/updateRecipe.action.js","containers/App/actions/setActiveVersion.action.js","containers/App/actions/deleteVersion.action.js","containers/App/reducers/recipes.reducer.js","store.js","index.js"],"names":["makeStyles","theme","container","display","flexWrap","flexDirection","formControl","margin","spacing","minWidth","textFieldRecipeName","marginLeft","marginRight","width","textFieldIngredients","newRecipeButton","fontWeight","button","InputForm","props","classes","useStyles","id","name","ingredients","edit","initErrorMessages","confirmButton","React","useState","input","setInput","error","setError","cancelEdit","cancelConfirmation","Dialog","disableBackdropClick","disableEscapeKeyDown","open","DialogTitle","DialogContent","className","TextField","label","fullWidth","autoComplete","onChange","value","target","Date","now","defaultValue","helperText","multiline","DialogActions","Button","onClick","variant","color","handleInput","NewRecipe","addRecipe","initInput","setEdit","handleClose","newRecipe","Recipe","recipe","_id","date","isFocused","oldVersions","deleteRecipe","setActiveRecipe","updateRecipe","showIngredients","setShowIngredients","length","split","map","item","index","key","edited","oldVersion","updated","Version","deleteVersion","setActiveVersion","getRecipesAction","dispatch","axios","get","then","response","data","payload","type","connect","state","recipes","getRecipes","post","console","log","delete","focused","find","useEffect","version","createStore","slice","reverse","filter","toString","substr","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","store","document","getElementById"],"mappings":"kVAEeA,eAAW,SAAAC,GAAK,MAAK,CAClCC,UAAW,CACTC,QAAS,OACTC,SAAU,OACVC,cAAe,UAEjBC,YAAa,CACXC,OAAQN,EAAMO,QAAQ,GACtBC,SAAU,KAEZC,oBAAqB,CACnBC,WAAYV,EAAMO,QAAQ,GAC1BI,YAAaX,EAAMO,QAAQ,GAC3BK,MAAO,KAETC,qBAAsB,CACpBH,WAAYV,EAAMO,QAAQ,GAC1BI,YAAaX,EAAMO,QAAQ,GAC3BK,MAAO,KAETE,gBAAiB,CACfR,OAAQN,EAAMO,QAAQ,GACtBQ,WAAY,KAEdC,OAAQ,CACND,WAAY,IACZL,WAAY,Y,yjBClBD,SAASO,EAAWC,GACjC,IAAMC,EAAUC,IACRC,EAAgCH,EAAhCG,GAAIC,EAA4BJ,EAA5BI,KAAMC,EAAsBL,EAAtBK,YAAaC,EAASN,EAATM,KACzBC,EAAoB,CAACH,MAAM,EAAOC,aAAa,GAC/CG,EAAgBL,EAAK,cAAgB,aAJH,EAMdM,IAAMC,SAAS,CAACN,KAAMA,EAAMC,YAAaA,EAAaF,GAAIA,IAN5C,mBAMjCQ,EANiC,KAM1BC,EAN0B,OAOdH,IAAMC,SAASH,GAPD,mBAOjCM,EAPiC,KAO1BC,EAP0B,KAmBnCC,EAAa,WAClBf,EAAMgB,qBACNF,EAASP,IAoBT,OACI,kBAACU,EAAA,EAAD,CACEC,sBAAoB,EACpBC,sBAAoB,EACpBC,KAASd,GAEX,kBAACe,EAAA,EAAD,sBACA,kBAACC,EAAA,EAAD,KACE,0BAAMC,UAAWtB,EAAQlB,WACvB,kBAACyC,EAAA,EAAD,CACErB,GAAG,iBACHoB,UAAWtB,EAAQV,oBACnBkC,MAAM,SACNrC,OAAO,SACPsC,WAAW,EACXC,aAAa,MACbC,SAhDe,SAAC,GAA0B,IAAfC,EAAc,EAAxBC,OAAUD,MACnCjB,EAAS,EAAD,GAAKD,EAAL,CAAYP,KAAMyB,EAAO1B,GAAI4B,KAAKC,SAC1ClB,EAAS,EAAD,GAAKD,EAAL,CAAYT,MAAM,MA+ClB6B,aAAe7B,EACfS,MAAOA,EAAMT,KACb8B,WAAYrB,EAAMT,KAAO,eAAiB,MAE5C,kBAACoB,EAAA,EAAD,CACErB,GAAG,iBACHoB,UAAWtB,EAAQN,qBACnB8B,MAAM,oCACNrC,OAAO,SACP+C,WAAW,EACXT,WAAW,EACXE,SAvDgB,SAAC,GAA0B,IAAfC,EAAc,EAAxBC,OAAUD,MACpCjB,EAAS,EAAD,GAAKD,EAAL,CAAYN,YAAawB,KACjCf,EAAS,EAAD,GAAKD,EAAL,CAAYR,aAAa,MAsDzB4B,aAAc5B,EACdQ,MAAQA,EAAMR,YACd6B,WAAarB,EAAMR,YAAc,eAAiB,QAIxD,kBAAC+B,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CACEC,QAASvB,EACTwB,QAAQ,WACRC,MAAM,YACNjB,UAAWtB,EAAQH,QAJrB,SAQA,kBAACuC,EAAA,EAAD,CACEC,QAxDS,WAAO,IACflC,EAAsBO,EAAtBP,KAAOC,EAAeM,EAAfN,YAED,KAATD,GAA+B,KAAhBC,EARN,KAAfM,EAAMP,KACFU,EAAS,EAAD,GAAKD,EAAL,CAAYT,MAAM,KAC1BU,EAAS,EAAD,GAAKD,EAAL,CAAYR,aAAa,MASjCL,EAAMyC,YAAY9B,GAClBI,MAkDIwB,QAAQ,WACRC,MAAM,UACNjB,UAAWtB,EAAQH,QAEjBU,KC/FG,SAASkC,EAAU1C,GAAQ,IAChC2C,EAAc3C,EAAd2C,UAEF1C,EAAUC,IACV0C,EAAmB,GAAnBA,EAAoC,GAApCA,EAA4C,GAJX,EAMbnC,IAAMC,UAAS,GANF,mBAM/BJ,EAN+B,KAMzBuC,EANyB,KAYjCC,EAAc,WAClBD,GAAQ,IAQV,OACE,6BACE,kBAACR,EAAA,EAAD,CACEC,QAhBa,WACjBO,GAAQ,IAgBJtB,UAAWtB,EAAQL,gBACnB2C,QAAQ,WACRC,MAAM,WAJR,kBAQElC,GACA,kBAACP,EAAD,CACEI,GAAIyC,EACJxC,KAAMwC,EACNtC,KAAMA,EACND,YAAauC,EACbH,YArBgB,SAACM,GACrBJ,EAAUI,GACVD,KAoBI9B,mBAAsB8B,K,+jBCrChC,IAoFeE,EApFA,SAAChD,GACd,IAAMC,EAAUC,IADQ,EAE6CF,EAAMiD,OAAnEC,EAFgB,EAEhBA,IAAK/C,EAFW,EAEXA,GAAIC,EAFO,EAEPA,KAAM+C,EAFC,EAEDA,KAAM9C,EAFL,EAEKA,YAAa+C,EAFlB,EAEkBA,UAAWC,EAF7B,EAE6BA,YAC7CC,EAAgDtD,EAAhDsD,aAAcC,EAAkCvD,EAAlCuD,gBAAiBC,EAAiBxD,EAAjBwD,aAHf,EAKE9C,oBAAS,GALX,mBAKhBJ,EALgB,KAKVuC,EALU,OAMwBnC,oBAAS,GANjC,mBAMhB+C,EANgB,KAMCC,EAND,KA8BxB,OACE,yBAAKnC,UAAU,UACX,yBAAKA,UAAY6B,EAAY,cAAgB,SAAUd,QAZ1C,WACjBiB,EAAgBpD,GAEXiD,GAAcK,GAEM,IAAdL,GACTM,GAAoBD,GAFpBC,GAAmB,KASf,wBAAInC,UAAU,cAAenB,EACzBiD,EAAYM,OAAS,GACrB,uBAAGxD,GAAG,WACJ,yCACA,0BAAMA,GAAG,cAAcoB,UAAU,oBAAoB8B,EAAYM,UAIvE,yBAAKpC,UAAU,QAAS4B,IAExBC,GAAaK,GACX,yBAAKlC,UAAU,eACb,yBAAKA,UAAU,aAAf,eACA,4BACIlB,EAAYuD,MAAM,KAAKC,KAAI,SAACC,EAAMC,GAAP,OACzB,wBAAIC,IAAKD,GAASD,OAGxB,yBAAK3D,GAAG,WACN,kBAACkC,EAAA,EAAD,CACEC,QA7CD,kBAAMO,GAAQ,IA8CbN,QAAQ,WACRC,MAAM,UACNjB,UAAWtB,EAAQH,QAJrB,QAQA,kBAACuC,EAAA,EAAD,CACEC,QA3CK,kBAAMgB,EAAaJ,IA4CxBX,QAAQ,WACRC,MAAM,YACNjB,UAAWtB,EAAQH,QAJrB,WAQAQ,GACA,kBAACP,EAAD,CACEI,GAAIA,EACJC,KAAMA,EACNE,KAAMA,EACND,YAAaA,EACboC,YAhEW,SAACwB,GAC1BpB,GAAQ,GACR,IAAMqB,EAAa,CAAE/D,KAAIC,OAAMC,cAAa8C,OAAMC,WAAW,GACvDe,EAAU,CAAEF,OAAO,KAAKA,EAAN,CAAc9D,GAAI4B,KAAKC,MAAOkB,QAAOgB,cAC7DV,EAAaW,IA6DCnD,mBA1DI,kBAAM6B,GAAQ,SC+BrBuB,EAjDC,SAACpE,GACf,IAAMC,EAAUC,IADS,EAE0BF,EAAMiD,OAAjD9C,EAFiB,EAEjBA,GAAIC,EAFa,EAEbA,KAAM+C,EAFO,EAEPA,KAAM9C,EAFC,EAEDA,YAAa+C,EAFZ,EAEYA,UAC7BiB,EAAyCrE,EAAzCqE,cAAeC,EAA0BtE,EAA1BsE,iBAAkBpB,EAAQlD,EAARkD,IAHhB,EAKuBxC,oBAAS,GALhC,mBAKjB+C,EALiB,KAKAC,EALA,KAoBzB,OACE,yBAAKnC,UAAU,UACb,yBAAKA,UAAY6B,EAAY,eAAiB,SAAUd,QAXzC,WACjBgC,EAAiBnE,GACZiD,GAAcK,GAEM,IAAdL,GACTM,GAAoBD,GAFpBC,GAAmB,KASjB,wBAAInC,UAAU,eAAd,IAA+BnB,GAC/B,yBAAKmB,UAAU,QAAS4B,IAExBC,GAAaK,GACb,yBAAKlC,UAAU,eACb,yBAAKA,UAAU,aAAf,eACA,4BACIlB,EAAYuD,MAAM,KACjBC,KAAI,SAACC,EAAMC,GAAP,OACL,wBAAIC,IAAKD,GAASD,OAGtB,kBAACzB,EAAA,EAAD,CACEC,QA7BW,WACnB+B,EAAc,CAACnB,MAAK/C,QA6BZoC,QAAQ,WACRC,MAAM,YACNjB,UAAWtB,EAAQH,QAJrB,a,iBCtCGyE,EAAmB,kBAAM,SAAAC,GACpCC,IAAMC,IAAI,aACTC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QAC1BF,MAAK,SAAAG,GAAO,OAAIN,EAAS,CAAEO,KCNH,iBDMsBD,iB,MEgEjD,IAeeE,eAfS,SAACC,GAAD,MAAY,CAClCC,QAASD,MAGgB,SAACT,GAAD,MAAe,CACxCW,WAAY,WAAQX,EAASD,MAC7B5B,UAAW,SAACI,GCvEiB,IAAC+B,EDuEFN,GCvEEM,EDuEuB/B,ECvEX,SAAAyB,GAC1CC,IAAMW,KAAK,eAAgBN,GAC1BH,MAAK,SAAAC,GAAQ,OAAIS,QAAQC,IAAIV,EAASC,SACtCF,MAAK,kBAAMH,EAAS,CAAEO,KFPC,qBEQvBJ,MAAK,kBAAMH,EAASD,QACpBI,MAAK,kBAAMU,QAAQC,IAAI,mCDmExBhC,aAAc,SAACnD,GE1EiB,IAAC2E,EF0ETN,GE1ESM,EF0EmB3E,EE1EP,SAAAqE,GAC7CC,IAAMc,OAAN,mBAAyBT,IACxBH,MAAK,SAAAC,GAAQ,OAAIS,QAAQC,IAAIV,EAASC,SAEvCL,EAAS,CACPO,KHNyB,mBGOzBD,gBFqEFvB,gBAAiB,SAACpD,GAASqE,EG5EsB,CACjDO,KJA+B,sBIC/BD,QH0E0D3E,KAC1DqD,aAAc,SAACrD,GI5EiB,IAAC2E,EJ4ETN,GI5ESM,EJ4EmB3E,EI5EP,SAAAqE,GAC7CC,IAAMW,KAAN,0BAA8BN,EAAQb,OAAOf,KAAO4B,GACnDH,MAAK,SAAAC,GAAQ,OAAIS,QAAQC,IAAIV,EAASC,SAEvCL,EAAS,CACPO,KLJyB,mBKKzBD,gBJwEFR,iBAAkB,SAACnE,GAASqE,EK/EsB,CAClDO,KNGgC,uBMFhCD,QL6E4D3E,KAC5DkE,cAAe,SAAClE,GM/EiB,IAAC2E,EN+ETN,GM/ESM,EN+EoB3E,EM/ER,SAAAqE,GAC9CC,IAAMW,KAAN,2BAA+BN,EAAQ5B,KAAO4B,GAC7CH,MAAK,SAAAC,GAAQ,OAAIS,QAAQC,IAAIV,EAASC,SAEvCL,EAAS,CACPO,KPD0B,oBOE1BD,mBN4EWE,EArEf,SAAahF,GAAQ,IACXmF,EAAuEnF,EAAvEmF,WAAYxC,EAA2D3C,EAA3D2C,UAAWW,EAAgDtD,EAAhDsD,aAAcC,EAAkCvD,EAAlCuD,gBAAiBC,EAAiBxD,EAAjBwD,aACtDa,EAA6CrE,EAA7CqE,cAAeC,EAA8BtE,EAA9BsE,iBAAkBY,EAAYlF,EAAZkF,QAEnCM,EAAUN,EAAQO,MAAK,SAAAxC,GAAM,OAAIA,EAAOG,aAM9C,OAJAsC,qBAAU,WACW,IAAnBR,EAAQvB,QAAgBwB,MACvB,CAACD,EAASC,IAGX,yBAAK5D,UAAU,OACb,4BAAQA,UAAU,cAChB,yCAGF,yBAAKA,UAAU,QACb,yBAAKA,UAAU,WACf,uCACA,kBAACmB,EAAD,CAAWC,UAAWA,IACpBuC,EAAQvB,OAAS,GAAKuB,EAAQrB,KAAI,SAAAZ,GAClC,OACE,kBAAC,EAAD,CACEe,IAAKf,EAAO9C,GACZ8C,OAAQA,EACRK,aAAcA,EACdC,gBAAiBA,EACjBZ,UAAWA,EACXa,aAAcA,QAKpB,yBAAKjC,UAAU,WACb,wCAEEiE,GAAWA,EAAQnC,YAAYQ,KAAI,SAAA8B,GACjC,OACE,kBAAC,EAAD,CACE3B,IAAK2B,EAAQxF,GACb+C,IAAOsC,EAAQtC,IACfD,OAAQ0C,EACRtB,cAAeA,EACfC,iBAAkBA,a,ylBOlD7B,ICHQsB,yBDGe,WAAkC,IAAjCX,EAAgC,uDAAxB,GAAwB,yCAAnBF,EAAmB,EAAnBA,KAAMD,EAAa,EAAbA,QAChD,OAAOC,GAEL,IRZuB,iBQarB,OAAOD,EAAQe,QAAQC,UACpBjC,KAAI,SAAAZ,GAAM,YACNA,EADM,CAETI,YAAaJ,EAAOI,YAAYwC,QAAQC,eAI5C,IRlBuB,mBQmBrB,OAAOb,EAAMc,QAAO,SAAA9C,GAAM,OACxBA,EAAOC,MAAQ4B,KAEnB,IRrB2B,sBQsBzB,OAAOG,EAAMpB,KAAI,SAAAZ,GAIf,OAFIA,EADJA,EAAO9C,KAAO2E,EACJ,KAAO7B,EAAP,CAAeG,WAAW,IAC1B,KAAOH,EAAP,CAAeG,WAAW,OAIxC,IR5BuB,mBQ6BrB,OAAO6B,EAAMpB,KAAI,SAAAZ,GACf,OAAKA,EAAOC,MAAQ4B,EAAQb,OAAOf,IAC1B,KACFD,EADL,CAEE7C,KAAM0E,EAAQb,OAAO7D,KACrBD,GAAI2E,EAAQb,OAAO9D,GACnBE,YAAayE,EAAQb,OAAO5D,YAC5B8C,KAAM,IAAIpB,KAAK+C,EAAQb,OAAO9D,IAAI6F,WAAWC,OAAO,EAAG,IACvD5C,YAAY,CAAEyB,EAAQZ,YAAX,mBAA0BjB,EAAOI,gBAGzCJ,KAGX,IRzC4B,uBQ0C1B,OAAOgC,EAAMpB,KAAI,SAAAZ,GACf,OAAIA,EAAOG,UACF,KACFH,EADL,CAEEI,YAAaJ,EAAOI,YACjBQ,KAAI,SAAA8B,GAIH,OAFEA,EADJA,EAAQxF,KAAO2E,EACJ,KAAOa,EAAP,CAAgBvC,WAAW,IAC3B,KAAOuC,EAAP,CAAgBvC,WAAW,SAKrCH,KAGX,IRzDwB,oBQ0DtB,OAAOgC,EAAMpB,KAAI,SAAAZ,GACf,OAAIA,EAAOG,UACF,KACFH,EADL,CAEEI,YAAaJ,EAAOI,YACjB0C,QAAO,SAAAJ,GAAO,OAAIA,EAAQxF,KAAO2E,EAAQ3E,QAGzC8C,KAGX,QACE,OAAOgC,KCvEqB,GAAIiB,8BAAoBC,0BAAgBC,O,YCG5EC,IAASC,OACP,kBAAC,IAAD,CAAUC,MAASA,GACjB,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.95797422.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core/styles';\r\n\r\nexport default makeStyles(theme => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flexDirection: 'column',\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  textFieldRecipeName: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 250,\r\n  },\r\n  textFieldIngredients: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 500,\r\n  },\r\n  newRecipeButton: {\r\n    margin: theme.spacing(2),\r\n    fontWeight: 600\r\n  },\r\n  button: {\r\n    fontWeight: 600,\r\n    marginLeft: \"15px\"\r\n  }\r\n}));","import React from 'react';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport useStyles from '../../common/DialogForm.style';\r\n\r\nexport default function InputForm (props) {\r\n  const classes = useStyles();\r\n  const { id, name, ingredients, edit } = props;\r\n  const initErrorMessages = {name: false, ingredients: false};\r\n  const confirmButton = id ? \"Edit Recipe\" : \"Add Recipe\";\r\n\r\n  const [input, setInput] = React.useState({name: name, ingredients: ingredients, id: id});\r\n  const [error, setError] = React.useState(initErrorMessages);  \r\n\r\n  const handleRecipeName = ({target: { value } }) => {\r\n    setInput({...input, name: value, id: Date.now() });\r\n    setError({...error, name: false});\r\n  };\r\n\r\n  const handleIngredients = ({target: { value } }) => {\r\n    setInput({...input, ingredients: value });\r\n    setError({...error, ingredients: false})\r\n  };\r\n\r\n const cancelEdit = () => {\r\n  props.cancelConfirmation();\r\n  setError(initErrorMessages);\r\n }\r\n\r\n const handleErrors = () => {\r\n  input.name === \"\"\r\n    ? setError({...error, name: true})\r\n    : setError({...error, ingredients: true})\r\n  };\r\n\r\n  const getInput = () => {\r\n    const {name , ingredients} = input;\r\n\r\n    if (name === \"\" || ingredients === \"\") {\r\n      handleErrors();\r\n    } else {\r\n      props.handleInput(input);\r\n      cancelEdit();\r\n    }\r\n  };\r\n\r\n  return (\r\n      <Dialog\r\n        disableBackdropClick\r\n        disableEscapeKeyDown\r\n        open = { edit }\r\n      >\r\n      <DialogTitle>Fill the form</DialogTitle>\r\n      <DialogContent>\r\n        <form className={classes.container}>\r\n          <TextField\r\n            id=\"standard-basic\"\r\n            className={classes.textFieldRecipeName}\r\n            label=\"Recipe\"\r\n            margin=\"normal\"\r\n            fullWidth={false}\r\n            autoComplete='off'\r\n            onChange={handleRecipeName}\r\n            defaultValue={ name}\r\n            error={error.name }\r\n            helperText={error.name ? 'Empty field!' : ' '}\r\n          />\r\n          <TextField\r\n            id=\"standard-basic\"\r\n            className={classes.textFieldIngredients}\r\n            label=\"Ingredients (separated by commas)\"\r\n            margin=\"normal\"\r\n            multiline={true}\r\n            fullWidth={true}\r\n            onChange={handleIngredients}\r\n            defaultValue={ingredients}\r\n            error={ error.ingredients }\r\n            helperText={ error.ingredients ? 'Empty field!' : ' '}\r\n          />\r\n        </form>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          onClick={cancelEdit}\r\n          variant=\"outlined\"\r\n          color=\"secondary\"\r\n          className={classes.button}\r\n        >\r\n          Close\r\n        </Button>\r\n        <Button\r\n          onClick={getInput}\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          className={classes.button}\r\n        >\r\n          { confirmButton }\r\n        </Button>\r\n      </DialogActions>\r\n      </Dialog>\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport InputForm from '../InputForm/InputForm';\r\nimport useStyles from '../../common/DialogForm.style';\r\n\r\nexport default function NewRecipe(props) {\r\n  const { addRecipe } = props;\r\n\r\n  const classes = useStyles();\r\n  const initInput = {name: \"\", ingredients: \"\", id: \"\"};\r\n  \r\n  const [ edit, setEdit ] = React.useState(false);  \r\n\r\n  const handleOpen = () => {\r\n    setEdit(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setEdit(false);\r\n  };\r\n\r\n  const handleNewRecipe = (newRecipe) => {\r\n      addRecipe(newRecipe);\r\n      handleClose();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        onClick={ handleOpen }\r\n        className={classes.newRecipeButton}\r\n        variant=\"outlined\"\r\n        color=\"primary\"\r\n      > \r\n        Add new Recipe\r\n      </Button>\r\n      { edit &&\r\n        <InputForm\r\n          id={initInput.id}\r\n          name={initInput.name}\r\n          edit={edit}\r\n          ingredients={initInput.ingredients}\r\n          handleInput = {handleNewRecipe}\r\n          cancelConfirmation = {handleClose}\r\n        />\r\n      }\r\n    </div>\r\n  );\r\n}","import React, { useState } from 'react';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport InputForm from '../InputForm/InputForm';\r\nimport useStyles from '../../common/DialogForm.style';\r\nimport '../../common/Recipe.css';\r\n\r\nconst Recipe = (props) => {\r\n  const classes = useStyles();\r\n  const { _id, id, name, date, ingredients, isFocused, oldVersions } = props.recipe;\r\n  const { deleteRecipe, setActiveRecipe, updateRecipe } = props;\r\n\r\n  const [ edit, setEdit ] = useState(false);\r\n  const [ showIngredients, setShowIngredients ] = useState(false);\r\n\r\n  const onEdit = () => setEdit(true);\r\n\r\n  const handleEditedRecipe = (edited) => {\r\n    setEdit(false);\r\n    const oldVersion = { id, name, ingredients, date, isFocused: false };    \r\n    const updated = { edited: {...edited, id: Date.now(), _id }, oldVersion };\r\n    updateRecipe(updated);\r\n  }\r\n  \r\n  const handleClose = () => setEdit(false);\r\n  const handleDelete = () => deleteRecipe(_id);\r\n\r\n  const handleShow = () => {\r\n    setActiveRecipe(id);\r\n    \r\n    if (!isFocused && !showIngredients) {\r\n      setShowIngredients(true)\r\n    } else if (isFocused === true) {\r\n      setShowIngredients(!showIngredients)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"recipe\" >\r\n        <div className={ isFocused ? \"focusRecipe\" : \"header\"} onClick={ handleShow }>\r\n          <h6 className=\"recipeName\">{ name }\r\n            { oldVersions.length > 0 &&\r\n              <p id=\"updated\">\r\n                <span>updated</span>\r\n                <span id=\"oldVersions\" className=\"badge badge-pill\">{oldVersions.length}</span>\r\n              </p>\r\n            }\r\n          </h6>\r\n          <div className=\"date\">{ date }</div>\r\n        </div>\r\n        { isFocused && showIngredients && (\r\n            <div className=\"ingredients\">\r\n              <div className=\"ingHeader\">Ingredients</div>\r\n              <ul>\r\n                { ingredients.split(\",\").map((item, index) =>\r\n                    <li key={index}>{ item }</li>)\r\n                }\r\n              </ul>\r\n              <div id=\"buttons\">\r\n                <Button\r\n                  onClick={ onEdit }\r\n                  variant=\"outlined\"\r\n                  color=\"primary\"\r\n                  className={classes.button}\r\n                >\r\n                  EDIT\r\n                </Button>\r\n                <Button\r\n                  onClick={ handleDelete }\r\n                  variant=\"outlined\"\r\n                  color=\"secondary\"\r\n                  className={classes.button}\r\n                >\r\n                DELETE</Button>\r\n              </div>\r\n              { edit &&\r\n                <InputForm\r\n                  id={id}\r\n                  name={name}\r\n                  edit={edit}\r\n                  ingredients={ingredients}\r\n                  handleInput = {handleEditedRecipe}\r\n                  cancelConfirmation = {handleClose}\r\n                />\r\n              }\r\n            </div>\r\n          )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Recipe;","import React, { useState } from 'react';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport useStyles from '../../common/DialogForm.style';\r\nimport '../../common/Recipe.css';\r\n\r\nconst Version = (props) => {\r\n  const classes = useStyles();\r\n  const { id, name, date, ingredients, isFocused } = props.recipe;\r\n  const { deleteVersion, setActiveVersion, _id } = props;\r\n\r\n  const [ showIngredients, setShowIngredients ] = useState(false);\r\n\r\n  const handleDelete = () => {\r\n    deleteVersion({_id, id})\r\n  }\r\n\r\n  const handleShow = () => {\r\n    setActiveVersion(id);\r\n    if (!isFocused && !showIngredients) {\r\n      setShowIngredients(true)\r\n    } else if (isFocused === true) {\r\n      setShowIngredients(!showIngredients)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"recipe\" >\r\n      <div className={ isFocused ? \"focusVersion\" : \"header\"} onClick={ handleShow }>\r\n        <h6 className=\"versionDate\"> { name }</h6>\r\n        <div className=\"date\">{ date }</div>\r\n      </div>\r\n      { isFocused && showIngredients && (\r\n        <div className=\"ingredients\">\r\n          <div className=\"ingHeader\">Ingredients</div>\r\n          <ul>\r\n            { ingredients.split(\",\")\r\n              .map((item, index) =>\r\n              <li key={index}>{ item }</li> )\r\n            }\r\n          </ul>\r\n          <Button\r\n            onClick={ handleDelete }\r\n            variant=\"outlined\"\r\n            color=\"secondary\"\r\n            className={classes.button}\r\n          >\r\n            DELETE\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Version;","import axios from 'axios';\r\nimport { GET_RECIPES } from '../constants';\r\n\r\nexport const getRecipesAction = () => dispatch => {\r\n  axios.get('/recipes/')\r\n  .then(response => response.data)\r\n  .then(payload => dispatch({ type: GET_RECIPES, payload}))\r\n};","export const GET_RECIPES = \"App@getRecipes\";\r\nexport const ADD_RECIPE = \"App@addRecipe\";\r\nexport const DELETE_RECIPE = \"App@deleteRecipe\";\r\nexport const SET_ACTIVE_RECIPE = \"App@setActiveRecipe\";\r\nexport const UPDATE_RECIPE = \"App@updateRecipe\";\r\n\r\nexport const SET_ACTIVE_VERSION = \"App@setActiveVersion\";\r\nexport const DELETE_VERSION = \"App@deleteVersion\";","import React, { useEffect } from 'react';\r\nimport { connect } from \"react-redux\";\r\n\r\nimport NewRecipe from '../../components/NewRecipe/NewRecipe';\r\nimport Recipe from '../../components/Recipe/Recipe';\r\nimport Version from '../../components/Version/Version';\r\nimport { getRecipesAction } from \"./actions/getRecipes.action\";\r\nimport { addRecipeAction } from \"./actions/addRecipe.action\";\r\nimport { deleteRecipeAction } from \"./actions/deleteRecipe.action\";\r\nimport { setActiveRecipeAction } from \"./actions/setActiveRecipe.action.js\";\r\nimport { updateRecipeAction} from \"./actions/updateRecipe.action.js\";\r\nimport { setActiveVersionAction } from \"./actions/setActiveVersion.action.js\";\r\nimport { deleteVersionAction } from \"./actions/deleteVersion.action.js\";\r\n\r\nimport './App.css';\r\n\r\nfunction App(props) {\r\n  const { getRecipes, addRecipe, deleteRecipe, setActiveRecipe, updateRecipe } = props;\r\n  const { deleteVersion, setActiveVersion, recipes } = props;\r\n\r\n  const focused = recipes.find(recipe => recipe.isFocused);\r\n\r\n  useEffect(() => {\r\n    recipes.length === 0 && getRecipes();\r\n  }, [recipes, getRecipes]);\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <header className=\"app-header\">\r\n        <h2>Cookbook</h2>\r\n      </header>\r\n      \r\n      <div className=\"main\">\r\n        <div className=\"section\">\r\n        <h5>RECIPES</h5>\r\n        <NewRecipe addRecipe={addRecipe} />\r\n        { recipes.length > 0 && recipes.map(recipe => {\r\n          return (\r\n            <Recipe\r\n              key={recipe.id}\r\n              recipe={recipe}\r\n              deleteRecipe={deleteRecipe}\r\n              setActiveRecipe={setActiveRecipe}\r\n              addRecipe={addRecipe}\r\n              updateRecipe={updateRecipe}\r\n            />\r\n          )\r\n        })}\r\n        </div>\r\n        <div className=\"section\">\r\n          <h5>VERSIONS</h5>\r\n          {\r\n            focused && focused.oldVersions.map(version => {\r\n              return (\r\n                <Version\r\n                  key={version.id}\r\n                  _id = {focused._id}\r\n                  recipe={version}\r\n                  deleteVersion={deleteVersion}\r\n                  setActiveVersion={setActiveVersion}\r\n                />\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  recipes: state\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getRecipes: () => { dispatch(getRecipesAction()); },\r\n  addRecipe: (newRecipe) => { dispatch(addRecipeAction(newRecipe)); },\r\n  deleteRecipe: (id) => { dispatch(deleteRecipeAction(id)); },\r\n  setActiveRecipe: (id) => { dispatch(setActiveRecipeAction(id)); },\r\n  updateRecipe: (id) => { dispatch(updateRecipeAction(id)); },\r\n  \r\n  setActiveVersion: (id) => { dispatch(setActiveVersionAction(id)); },\r\n  deleteVersion: (id) => { dispatch(deleteVersionAction(id)); },\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import axios from 'axios';\r\n\r\nimport { ADD_RECIPE } from '../constants';\r\nimport { getRecipesAction } from './getRecipes.action';\r\n\r\nexport const addRecipeAction = (payload) => dispatch => {\r\n  axios.post('/recipes/add', payload)\r\n  .then(response => console.log(response.data))\r\n  .then(() => dispatch({ type: ADD_RECIPE }))\r\n  .then(() => dispatch(getRecipesAction()))\r\n  .then(() => console.log('Recipes fetched from db!'));\r\n};","import { DELETE_RECIPE } from '../constants'\r\nimport axios from 'axios';\r\n\r\nexport const deleteRecipeAction = (payload) => dispatch => {\r\n  axios.delete(`/recipes/${payload}`)\r\n  .then(response => console.log(response.data));\r\n  \r\n  dispatch({\r\n    type: DELETE_RECIPE,\r\n    payload\r\n  });\r\n};","import { SET_ACTIVE_RECIPE } from '../constants';\r\n\r\nexport const setActiveRecipeAction = (payload) => ({\r\n  type: SET_ACTIVE_RECIPE,\r\n  payload\r\n});","import axios from 'axios';\r\nimport { UPDATE_RECIPE } from '../constants';\r\n\r\nexport const updateRecipeAction = (payload) => dispatch => {\r\n  axios.post(`/recipes/update/${payload.edited._id}`, payload)\r\n  .then(response => console.log(response.data));\r\n\r\n  dispatch({\r\n    type: UPDATE_RECIPE,\r\n    payload\r\n  });\r\n};\r\n","import { SET_ACTIVE_VERSION } from '../constants';\r\n\r\nexport const setActiveVersionAction = (payload) => ({\r\n  type: SET_ACTIVE_VERSION,\r\n  payload\r\n});","import axios from 'axios';\r\nimport { DELETE_VERSION } from '../constants';\r\n\r\nexport const deleteVersionAction = (payload) => dispatch => {\r\n  axios.post(`/recipes/version/${payload._id}`, payload)\r\n  .then(response => console.log(response.data));\r\n\r\n  dispatch({\r\n    type: DELETE_VERSION,\r\n    payload\r\n  })\r\n};","import {\r\n  GET_RECIPES,\r\n  DELETE_RECIPE,\r\n  SET_ACTIVE_RECIPE,\r\n  UPDATE_RECIPE,\r\n  SET_ACTIVE_VERSION,\r\n  DELETE_VERSION\r\n} from '../constants'\r\n\r\nexport const recipesReducer = (state = [], {type, payload}) => {\r\n  switch(type) {\r\n\r\n    case GET_RECIPES:\r\n      return payload.slice().reverse()\r\n        .map(recipe => ({\r\n          ...recipe,\r\n          oldVersions: recipe.oldVersions.slice().reverse()\r\n        })\r\n      );\r\n\r\n      case DELETE_RECIPE:\r\n        return state.filter(recipe =>\r\n          recipe._id !== payload );\r\n\r\n      case SET_ACTIVE_RECIPE:\r\n        return state.map(recipe => {\r\n          recipe.id === payload\r\n            ? recipe = {...recipe, isFocused: true}\r\n            : recipe = {...recipe, isFocused: false}\r\n          return recipe;\r\n        });\r\n      \r\n      case UPDATE_RECIPE:\r\n        return state.map(recipe => {\r\n          if ( recipe._id === payload.edited._id ) {\r\n            return {\r\n              ...recipe,\r\n              name: payload.edited.name,\r\n              id: payload.edited.id,\r\n              ingredients: payload.edited.ingredients,\r\n              date: new Date(payload.edited.id).toString().substr(0, 24),\r\n              oldVersions: [payload.oldVersion, ...recipe.oldVersions]\r\n            }\r\n          }\r\n          return recipe;\r\n        });\r\n\r\n      case SET_ACTIVE_VERSION:\r\n        return state.map(recipe => {\r\n          if (recipe.isFocused) {\r\n            return {\r\n              ...recipe,\r\n              oldVersions: recipe.oldVersions\r\n                .map(version => {\r\n                version.id === payload\r\n                  ? version = {...version, isFocused: true}\r\n                  : version = {...version, isFocused: false}\r\n                  return version;\r\n                })\r\n            }\r\n          }\r\n          return recipe;\r\n        });\r\n      \r\n      case DELETE_VERSION:\r\n        return state.map(recipe => {\r\n          if (recipe.isFocused) {\r\n            return {\r\n              ...recipe,\r\n              oldVersions: recipe.oldVersions\r\n                .filter(version => version.id !== payload.id)\r\n            }\r\n          }\r\n          return recipe;\r\n        });\r\n      \r\n      default:\r\n        return state\r\n  }\r\n}","import {createStore, applyMiddleware} from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport { recipesReducer as reducer } from './containers/App/reducers/recipes.reducer';\r\n\r\nexport default createStore(reducer, [], composeWithDevTools(applyMiddleware(thunk)));","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport App from './containers/App/App';\r\nimport store from \"./store\"\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <Provider store = {store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}